<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</h:head>

	<p:commandButton id="chartBtn" value="Guardar Como" type="button"
		onclick="chartWidget.show()" />

	<p:dialog id="chartPanel" for="chartBtn" hideEffect="fade" modal="true" resizable="false"
		closable="true" widgetVar="chartWidget" appendToBody="true">
		<p:panel header="Seleccionar formato">
			<h:commandLink>
				<p:graphicImage value="/images/csv.png" />
				<p:dataExporter type="csv" target="seeReportDataTable"
					fileName="ReporteCSV" />
			</h:commandLink>

			<h:commandLink>
				<p:graphicImage value="/images/xml.png" />
				<p:dataExporter type="xml" target="seeReportDataTable"
					fileName="ReporteXML" />
			</h:commandLink>
		</p:panel>
	</p:dialog>


	<p:commandButton value="Imprimir" type="button" icon="ui-icon-print"
		style="margin:10px">
		<p:printer target="seeReportDataTable" />
	</p:commandButton>
	<br />
	<p:panel id="seeReportPanel">
		<p:dataTable var="reportLine" value="#{reportController.report}"
			draggableColumns="false" scrollable="true" scrollHeight="150"
			resizableColumns="true" id="seeReportDataTable">

			<p:column headerText="Id_Producto" style="width:200px"
				rendered="#{reportController.selectedItem.id == 2 or reportController.selectedItem.id == 3 or reportController.selectedItem.id == 4}">
				<h:outputText value="#{reportLine.idProducto}" />
			</p:column>

			<p:column headerText="Nombre_Producto" style="width:200px"
				rendered="#{reportController.selectedItem.id == 2 or reportController.selectedItem.id == 3 or reportController.selectedItem.id == 4}">
				<h:outputText value="#{reportLine.nombreProducto}" />
			</p:column>

			<p:column headerText="Fecha_CreaciÃ³n" style="width:200px"
				rendered="#{reportController.selectedItem.id == 3}">
				<h:outputText value="#{reportLine.fechaCreacion}" />
			</p:column>

			<p:column headerText="Lote" style="width:200px"
				rendered="#{reportController.selectedItem.id == 2 or reportController.selectedItem.id == 3}">
				<h:outputText value="#{reportLine.idLote}" />
			</p:column>

			<p:column headerText="Cantidad_De_Procesamientos" style="width:200px"
				rendered="#{reportController.selectedItem.id == 4}">
				<h:outputText value="#{reportLine.cantidadDeProcesamientos}" />
			</p:column>

			<p:column headerText="Tiempo_Promedio" style="width:200px"
				rendered="#{reportController.selectedItem.id == 4}">
				<h:outputText value="#{reportLine.tiempoPromedio}" />
			</p:column>

			<p:column headerText="Id_Usuario" style="width:200px"
				rendered="#{reportController.selectedItem.id == 1}">
				<h:outputText value="#{reportLine.idUsuario}" />
			</p:column>

			<p:column headerText="Nombre_Usuario" style="width:200px"
				rendered="#{reportController.selectedItem.id == 1}">
				<h:outputText value="#{reportLine.nombreUsuario}" />
			</p:column>

			<p:column headerText="Nombre_Analisis" style="width:200px"
				rendered="#{reportController.selectedItem.id == 1}">
				<h:outputText value="#{reportLine.nombreAnalisis}" />
			</p:column>
			<p:column headerText="Cantidad_Analisis" style="width:200px"
				rendered="#{reportController.selectedItem.id == 1}">
				<h:outputText value="#{reportLine.cantidadAnalisis}" />
			</p:column>

			<p:column headerText="Estado" style="width:200px"
				rendered="#{reportController.selectedItem.id == 2}">
				<h:outputText value="#{reportLine.estado}" />
			</p:column>

			<p:column headerText="Fecha_Procesado" style="width:200px"
				rendered="#{reportController.selectedItem.id == 2}">
				<h:outputText value="#{reportLine.fechaUltimaModificacion}" />
			</p:column>

		</p:dataTable>
	</p:panel>
</ui:composition>
